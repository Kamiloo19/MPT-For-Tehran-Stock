📈 تحلیل و بهینه‌سازی سبد سهام در بورس ایران
این پروژه یک ابزار تحلیلی قدرتمند به زبان پایتون است که برای سرمایه‌گذاران بازار بورس ایران طراحی شده است. این اسکریپت با استفاده از شبیه‌سازی مونت کارلو و بر اساس نظریه مدرن پورتفولیو (MPT)، سبد بهینه سرمایه‌گذاری را با بالاترین نسبت شارپ (Sharpe Ratio) پیدا می‌کند.

هدف اصلی این ابزار، کمک به سرمایه‌گذاران برای تخصیص بهینه سرمایه خود بین دارایی‌های مختلف مانند سهام، طلا و دلار است تا بتوانند در ازای ریسک مشخص، بیشترین بازدهی ممکن را کسب کنند.

✨ ویژگی‌های کلیدی
دریافت خودکار داده‌ها: دریافت قیمت‌های تاریخی تعدیل‌شده سهام، صندوق طلا، دلار و شاخص کل از بورس ایران با استفاده از کتابخانه finpy-tse.

بهینه‌سازی سبد: اجرای شبیه‌سازی مونت کارلو برای تولید هزاران سبد سرمایه‌گذاری مختلف و یافتن سبد بهینه با بالاترین نسبت شارپ.

مصورسازی حرفه‌ای:

رسم نمودار مرز کارا (Efficient Frontier) برای نمایش رابطه بین ریسک و بازده.

نمایش تخصیص دارایی‌ها در سبد بهینه به صورت نمودار دایره‌ای (Pie Chart).

تحلیل ماتریس همبستگی (Correlation Matrix) بین دارایی‌ها برای درک بهتر روابط آن‌ها.

مقایسه عملکرد تاریخی (Backtesting) سبد بهینه با شاخص کل بورس.

محاسبه مبلغ سرمایه‌گذاری: دریافت مبلغ کل سرمایه از کاربر و محاسبه دقیق میزان سرمایه مورد نیاز برای خرید هر دارایی به ریال.

پشتیبانی کامل از زبان فارسی: نمایش صحیح عناوین، نمادها و تاریخ‌های شمسی در تمام خروجی‌ها و نمودارها.

🔬 روش‌شناسی
این پروژه بر پایه‌های علمی زیر استوار است:

نظریه مدرن پورتفولیو (MPT): این نظریه بیان می‌کند که سرمایه‌گذاران می‌توانند با ترکیب دارایی‌های مختلف، ریسک سبد خود را کاهش دهند بدون آنکه از بازدهی آن بکاهند.

شبیه‌سازی مونت کارلو: با تولید ده‌ها هزار سبد با وزن‌های تصادفی، فضای ممکن از بازده و ریسک را ترسیم می‌کنیم.

مرز کارا (Efficient Frontier): مجموعه‌ای از سبدهای سرمایه‌گذاری است که در یک سطح ریسک مشخص، بالاترین بازدهی را ارائه می‌دهند.

نسبت شارپ (Sharpe Ratio): معیاری برای سنجش بازدهی یک سرمایه‌گذاری در مقایسه با ریسک آن است. سبدی که بالاترین نسبت شارپ را دارد، بهینه‌ترین سبد در نظر گرفته می‌شود.

⚙️ پیش‌نیازها
برای اجرای این پروژه، باید کتابخانه‌های زیر را نصب کنید. می‌توانید با دستور pip این کار را انجام دهید:

Bash

pip install numpy pandas matplotlib seaborn finpy-tse jdatetime arabic-reshaper python-bidi
🚀 نحوه استفاده
استفاده از این ابزار بسیار ساده است:

۱. شخصی‌سازی پارامترها:
فایل DrGhr.ipynb را باز کرده و در سلول اول، متغیرهای زیر را مطابق با نیاز خود تغییر دهید:

Python

# --- پارامترهای ورودی ---
# لیست نمادهای مورد نظر خود را وارد کنید
tickers = ['فولاد', 'شپنا', 'شتران', 'طلا', 'ثبات', 'اخابر', 'خودرو']

# بازه زمانی تحلیل را به تاریخ شمسی وارد کنید
start_date = '1400-01-01'
end_date = '1403-04-01'

# نرخ بهره بدون ریسک سالانه (مثلاً سود بانکی) را وارد کنید
risk_free_rate_annual = 0.30
۲. اجرای اسکریپت:
سلول کد را در محیط ژوپیتر نوتبوک اجرا کنید.

۳. وارد کردن اطلاعات سرمایه:
پس از اجرای تحلیل و نمایش نمودارها، برنامه از شما دو ورودی دریافت می‌کند:

نرخ روز دلار به ریال: آخرین قیمت دلار را وارد کنید.

کل مبلغ سرمایه‌گذاری به دلار: کل سرمایه‌ای که می‌خواهید تخصیص دهید را به دلار وارد کنید.

Plaintext

💵 لطفاً نرخ روز دلار به ریال را وارد کنید: 875000
✅ لطفاً کل مبلغ سرمایه‌گذاری خود را به دلار وارد کنید: 1000
📊 خروجی‌ها
پس از اجرای کامل، خروجی‌های زیر را دریافت خواهید کرد:

۱. خروجی متنی در کنسول:

مشخصات سبد بهینه: درصدهای تخصیص یافته به هر دارایی، بازده سالانه مورد انتظار، ریسک سالانه و نسبت شارپ.

تخصیص سرمایه: مبلغ دقیق سرمایه‌گذاری برای هر دارایی به ریال بر اساس سرمایه کل وارد شده.

۲. نمودارهای تحلیلی:

مرز کارا (Efficient Frontier): این نمودار رابطه بین ریسک (انحراف معیار) و بازدهی هزاران سبد شبیه‌سازی شده را نمایش می‌دهد. نقطه بهینه با ستاره قرمز مشخص شده است.

تخصیص دارایی‌ها (Pie Chart): این نمودار دایره‌ای، درصد بهینه هر دارایی در سبد نهایی را به صورت بصری نشان می‌دهد.

ماتریس همبستگی (Heatmap): این نمودار میزان همبستگی بین بازدهی روزانه دارایی‌های مختلف را نشان می‌دهد. مقادیر نزدیک به +1 همبستگی مثبت، نزدیک به -1 همبستگی منفی و نزدیک به 0 عدم همبستگی را نشان می‌دهند.

مقایسه عملکرد تاریخی (Backtest): این نمودار، بازدهی تجمعی سبد بهینه شما را در بازه زمانی مشخص شده با بازدهی شاخص کل بورس مقایسه می‌کند.

🤝 مشارکت
از هرگونه مشارکت، پیشنهاد یا گزارش خطا استقبال می‌شود. می‌توانید یک Issue جدید ثبت کرده یا یک Pull Request ارسال کنید.
